---
title: '理想超级主板'
categories:
- 蓝桥杯校内选拔赛
tags:
- 20级第十二届蓝桥杯第3次周赛






---

内容简介 : 较难

* 出题人 : 朱俊老师

  

---

- 试题内容  ---   理想超级主板

  

## 题目描述

小紫拥有一块带n个内存插槽的超级主板，每个内存插槽都可以插一根内存条，每根内存条的内存都只能是1~n中的一个整数。小紫想要一块理想的超级主板，那么，什么是理想的超级主板呢？
首先，这块主板上所有的内存插槽都必须被使用，即每个内存插槽都必须有一根内存条。
其次，如果我们给每个插槽按顺序编上号，那么，这些内存插槽里的内存条之间必须满足其中之一的条件：
1) 从第二根内存条开始，每根内存条的内存不得超过上一根内存条的内存。
2) 从第二根内存条开始，每根内存条的内存不得小于上一根内存条的内存。
现在，假设我们已知插槽的数量，那么，有多少种组合方案能够让一块普通的超级主板变成理想超级主板？

## 输入

输入数据有多组。
每行有一个正整数n，表示超级主板的内存插槽数量是n。

## 输出

对于每组输入，输出一个正整数，表示符合理想超级主板条件的内存条组合方案数。
因为方案数可能过大，所以请你输出方案数与109+7取模后的结果。

## 样例输入

```
2
```

## 样例输出

```
4
```

## 提示

样例解释：

如果内存插槽数量为2，则可能的组合方案如下：

(1) 两个插槽都插内存为1的内存条，满足题目中的条件1和条件2.

(2) 两个插槽都插内存为2的内存条，满足题目中的条件1和条件2.

(3) 第一个插槽插内存为1的内存条，第二个插槽插内存为2的内存条，满足题目中的条件2.

(4) 第一个插槽插内存为2的内存条，第二个插槽插内存为1的内存条，满足题目中的条件1.

因为一共有4种组合方式，故输出4.

数据约定：

对于100%的数据：

1 <= n <= 105



---

* 我的代码

```
#include<iostream>
#include<cstdio>
#include<cstring>
#include<set>
#include<cstdio>
#include<string>
#include<map>
#include<algorithm>
using namespace std;
typedef long long ll;
const int inf=1<<28;
const int maxn=100005;
const ll mod = 1000000007;
int dp[2][maxn];
ll extend_gcd(ll a,ll b,ll &x,ll &y)
{
    if(b==0)
    {
        x=1;
        y=0;
        return a;
    }
    ll gcd=extend_gcd(b,a%b,x,y);
    ll t=x;
    x=y;
    y=t-a/b*x;
    return gcd;
}
ll Get_Inverse(ll num)
{
    ll x,y;
    extend_gcd(num,mod,x,y);
    return (x%mod+mod)%mod;
}
ll combine(ll n,ll m)//计算组合数C(n,m)
{
    ll t1=1,t2=1;
    for(ll i=n;i>m;i--)
    {
        t1=(t1*i)%mod;
        t2=(t2*(i-m))%mod;
    }
    return t1*Get_Inverse(t2)%mod;
}
int main()
{
    int n,i,j;
  
    while (cin >> n) {
        ll ans =2*combine(2*n-1,n) - n;
     
        cout<<ans%mod<<endl;
    }
    return 0;
  
}
```



---


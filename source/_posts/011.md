---
title: '蓝桥杯--小计算器'
categories:
- 蓝桥杯
tags:
- 进制转化
- 算法




---

内容简介 : 蓝桥杯历年题目  

---

- 试题内容  ---   小计算器

资源限制

时间限制：1.0s  内存限制：256.0MB

问题描述

　　模拟程序型计算器，依次输入指令，可能包含的指令有


　　1. 数字：'NUM X'，X为一个只包含大写字母和数字的字符串，表示一个当前进制的数
　　2. 运算指令：'ADD','SUB','MUL','DIV','MOD'，分别表示加减乘，除法取商，除法取余
　　3. 进制转换指令：'CHANGE K'，将当前进制转换为K进制(2≤K≤36)
　　4. 输出指令：'EQUAL'，以当前进制输出结果
　　5. 重置指令：'CLEAR'，清除当前数字


　　指令按照以下规则给出：
　　数字，运算指令不会连续给出，进制转换指令，输出指令，重置指令有可能连续给出
　　运算指令后出现的第一个数字，表示参与运算的数字。且在该运算指令和该数字中间不会出现运算指令和输出指令
　　重置指令后出现的第一个数字，表示基础值。且在重置指令和第一个数字中间不会出现运算指令和输出指令
　　进制转换指令可能出现在任何地方


　　运算过程中中间变量均为非负整数，且小于2^63。
　　以大写的'A'~'Z'表示10~35

输入格式

　　第1行：1个n，表示指令数量
　　第2..n+1行：每行给出一条指令。指令序列一定以'CLEAR'作为开始，并且满足指令规则

输出格式

　　依次给出每一次'EQUAL'得到的结果

样例输入

```7
7
CLEAR
NUM 1024
CHANGE 2
ADD
NUM 100000
CHANGE 8
EQUAL```
```

样例输出

```
2040
```



---

```
#include <iostream>
#include <cstring>
#include <cstdio>
#include <cmath>
#include <vector>
#include <algorithm>
using namespace std;
long long sum;
int base = 10; //代表的是进制数
long long myread()
{
    string str;
    cin >> str;
    long long val = 0;
    for(int i = 0; i < str.size(); i++)
    {
        long long temp;
        if(isdigit(str[i]))
        {
            temp = str[i] - '0';
        }else{
            temp = str[i] - 'A' + 10;
        }
        val = val * base + temp;
    }
    return val;
}
//在输出功能函数中进行转化

void myoutput()
{
    //k进制转化操作
    long long val = sum; //先进行赋值
    vector<char> v;
    while(sum){
        long long val = sum % base;
        if(val <= 9){
            v.push_back(val + '0');
        }else{
            v.push_back(val - 10 + 'A');
        }
        sum /= base;
    }
    if(v.size() == 0)
    {
        cout << 0;
    }
    for(int i = v.size()-1; i >= 0; i --)
    {
        cout << v[i];
    }
    cout << endl;
}

int main()
{
    int n; //代表的是n个指令操作
    cin >> n;
    string op; //代表每一行指令操作
    int opt;   //转化成具体的指令个数
    while (n--)
    {
        cin >> op;
        if (op == "CLEAR")
            opt = sum = 0;
        else if (op == "ADD")
            opt = 1; //加上
        else if (op == "SUB")
            opt = 2; //减去
        else if (op == "MUL")
            opt = 3; //乘法
        else if (op == "DIV")
            opt = 4; //除法
        else if (op == "MOD")
            opt = 5; //取余数操作
        else if (op == "CHANGE")
            cin >> base; //换取得base进制数
        else if (op == "EQUAL")
            myoutput();
        else if (op == "NUM")
        {
            switch (opt)
            {
            case 0:
                sum = myread();
                break;
            case 1:
                sum += myread();
                break;
            case 2:
                sum -= myread();
                break;
            case 3:
                sum *= myread();
                break;
            case 4:
                sum /= myread();
                break;
            case 5:
                sum %= myread();
                break;
            }
        }
    }
    return 0;
}
```

---

#### 补充算法程序 ----- k 进制算法（基础）

输入: num 和 k  转化成对应的k进制数 ( 2<=k && k <= 34)

详细代码如下:

Tips: 默认的话num是输入的是10进制数

```
#include<iostream>
#include<cstring>
#include<cmath>
#include<cstring>
#include<vector>
#include<algorithm>
using namespace std;
long long num;//任意输入一个10进制数
int base = 10;//默认是10进制数

void fun(long long num,int base)
{
    long long val = 0;
    vector<char> v; //使用vector进行存储

    while(num){ //循环相除法
        long long val = num % base;
        if(val <= 9){
            v.push_back(val + '0');
        }else{
            v.push_back(val - 10 + 'A');
        }
        num /= base;
    }
    if(v.size() == 0)
    {
        cout << 0;
    }
    for(int i = v.size()-1; i >= 0; i --)
    {
        cout << v[i];
    }
    cout << endl;
}

int main()
{
    cin >> num >> base;
    fun(num,base);
    return 0;
}
```

